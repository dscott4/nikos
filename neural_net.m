function [Y,Xf,Af] = neural_net(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 13-Oct-2017 23:55:12.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx11 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx1 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.keep = [2 3 4 5 6 7 8 9 10 11];
x1_step2.xoffset = [1;-7.899997711;-2.042749405;0;0;0;0;0;0;0];
x1_step2.gain = [0.0408163265306122;0.0566572372605542;0.079345168686812;0.142857142857143;0.00555555555555556;0.102040864015016;0.5;0.000581395348837209;0.02;0.25];
x1_step2.ymin = -1;

% Layer 1
b1 = [-1.7102577901258509;0.22474753591807894;-0.61841652542639969;2.2029880144083389;-3.9797397197137045;1.5901920685419288;1.4436127428405459;2.8124258111428277;-1.9858402881435064;1.1550354261547673;-3.1861383956754459;2.7014829473438073;3.5601982923279376;-2.8713947036380207;0.72800540648413348;0.32642459048223038;1.0347128083775867;-0.011376107067157998;-0.047416147182358773;0.76115178052757526;-2.6458217625130063;2.3122769716026172;-0.23768550082889942;1.1060747859598021;2.0055140316028726;1.4768655632972976;1.8343756224060768;1.8628637588329817;-0.99309661397099958;-1.2872421818288731;0.19819518904677902;0.50869199583790659;-2.3085058792256041;1.7743025703404467;-0.39351240040757895;-1.9423593917590107;0.082419995710877575;-1.0545649712290524;-0.49589645050610454;1.957622820329544;0.77121160738802585;0.36948654499309036;0.61921677400415143;0.17748513837349555;1.6339109445878501;0.52056802249534173;-0.41313401991911153;-3.8620134633638155;1.0888567275895118;-0.37742591680724019;-1.0034625839808926;-0.85581333921414493;2.2784829233830775;-1.6081905919340631;1.0655521254234461;2.4253082367293244;0.51539964737459198;0.75013123154170869;1.0686950388198468;1.3817689306443848;3.8223852282027715;-0.86896690194135662;0.036018150796136926;0.16873246430925459;0.19957727862190117;-0.076846473098723014;0.07261041498815432;0.7190895506298689;-2.4648139821062571;0.18629407621101443;-1.6314269826015311;1.3698624354983377;1.5722873682899268;-0.24270849123056776;3.3756029824579015;-1.8267667250450841;-2.1777447421761229;0.814808344163507;-4.4505939326711905;-2.3755802219074784;-1.9879385894423516;3.0764206818008235;0.4794793258452521;2.3698314255751201;4.5673068970252366;1.3046783413743621;0.963099006537393;3.9162400355887543;0.41435802209011219;-3.9069901949262444;2.2099253085784585;-2.5015750672053345;-2.1490411439127688;-0.27834955153839319;1.3241397432679569;1.6409671848626575;2.2237843306513345;-0.86999431565592178;4.520274309197748;0.83356047779146825];
IW1_1 = [-1.283223761395011 1.1194700388409122 0.30411908293572137 -0.62091117489594227 -1.4858865579216296 -0.71298492053144646 0.708309743003396 -0.65532132697716783 -0.4046125899762692 0.23643578790464917;3.1010965958226726 -0.010243701545938247 -2.9184625112111711 1.9237236966425335 -0.0058345114772370421 1.1116007411343301 -3.3202275342670715 0.1376929111557281 2.6506179374584655 -1.7450965126104476;0.11097438400297432 1.4281790910242609 1.4543521140801856 1.0289169627544965 0.071548116723360672 -0.70889144235576396 0.27291584823524068 -1.6253091343832893 0.018428804686675754 -0.35540460945153829;-1.7612842093762273 -0.60514549190918809 0.63612643020452153 0.022408918092685182 -0.78209707401960482 -0.65545987970982433 0.96730200337870675 -1.0407269208518504 0.10364436882690307 0.67251407605504177;2.7444260564017608 0.027795659370576868 -0.22761705006240024 -0.023393139135609534 0.031086023202693887 0.40949618323060283 0.010396428132361003 -0.71986928779919379 0.067103384370620134 -0.01597559495761252;0.4311376840563596 2.7209290049694248 -0.77929371407747305 0.052610176716170326 0.04360731261890613 -0.36797046210490231 -1.3188175008413432 1.6368493606376142 1.1662755552084436 0.95464969319741655;-4.4457243562391442 -0.35910939798910774 0.017413588617121459 1.432439344100124 0.96033818975824115 0.65892541037578123 0.80165304643487423 1.8471667810954857 1.3998379347963619 -1.1238344731063294;0.20795177958453598 0.21521151802031901 -0.93606632001608647 0.42026128809209962 -1.9540126187247848 -0.73565904574068752 -1.2901741360254602 -0.92012579498006442 -0.75642445938359815 -0.43361738550172368;2.7923532028876004 -2.1794206355768972 0.63886077351630255 0.95855776157646244 4.8706091299619878 0.33866902815845457 -1.580177369364421 -0.40180907423753343 1.5998397535738735 -1.466394864385399;-5.7750107340187506 0.67078988496218483 -0.27456623551914233 -0.1021550478195942 0.19423369029159196 -0.024208810856186758 0.1065869427254226 -0.54333657066243368 -0.44596854905134664 -0.26386898141247334;-0.0083562921798251127 -0.056670551279472132 -0.52055977335341497 -1.1403270665929677 2.123065155906676 -0.52579194677184993 0.13047871752697776 -0.68757234378461263 -0.75219081234391172 0.17402602272429066;-3.3615891865213223 2.3474720721394049 0.75350253800087397 2.2952748511646313 0.46393007659426089 -0.48587433380887668 0.95336563297295596 -0.53016239184601532 -1.2757577285874953 0.97196260334910245;-1.3598912945523889 0.89116600371973542 1.9336962976592624 0.41058448005521847 0.32104882326910811 1.6716582430668121 -1.4464658059525208 -1.9274214685458519 0.13046584650208598 0.96345921668868384;-0.39117371624619157 4.9706636129537687 -6.255855121566241 0.82276829579437649 -0.4982631025670709 2.675532246971807 -0.49760009709638775 -3.8772682047140301 -1.5657682373582775 -0.0098411463806081893;0.5601454548697673 -1.8173305299251645 2.6458442634848747 -2.4053329566132455 -1.8711058945636119 1.197162365395009 -0.098022893542415321 0.59468835271546283 -0.26416236717229002 0.44642796273205532;-0.062755855214412043 -0.56936480994676031 0.12786820495444251 -2.3913948938778748 -0.36938461336443784 0.27139841140544063 -0.079847196588537298 -0.79261782859241103 3.3958213784862088 0.65536637489021332;0.52415097016413759 -0.76170180903434281 -0.18358849555370899 1.1766216302491002 0.36521815839421079 0.25588957366929893 -0.35521092633701001 0.79449083892421557 -0.61305401137229643 0.072155873842078833;2.0092770266862532 0.54710709962083037 -1.9953035847761706 -1.432112468913906 -0.18902274408217343 -0.95702529148364179 -3.9998244094282103 0.9019797622626522 -0.16531346848666301 -1.4936819641261709;0.41689770153107464 -1.7736462702581965 -0.290919520358005 -0.64430873658669152 2.3694572090742976 2.6023872206735761 -0.3180320775776978 1.0474692707952586 -1.3106998631418794 -0.38258033678830644;-0.2933891808100561 1.8891994255193243 0.3497179394202542 -3.0722760840661745 -2.3708478931500734 0.28061602588087259 2.8970384306150949 1.7904019036248329 3.3920372185089986 -0.33483467838217507;-2.4845707003486202 2.0302310607962593 -2.0253833050783094 -0.069074036959237611 0.76753589426047708 -2.5117703511683365 1.4716095960553806 -1.2343625091647221 -0.49002601252532829 -1.0694979735873757;-0.018172665661324243 3.0449165321094012 0.89089871122264852 -0.49215841649796321 0.4973966167399107 2.3175733765639008 0.077227410023838094 -1.8472666362982262 0.22083421577665485 -0.068420917612128096;0.68658524032733448 0.11423390040557017 2.6878271167374179 0.97571725653465069 0.096042173182984164 -0.27197987311589272 -0.069656640122849903 2.0225116176814595 0.11538709163678269 0.74688054707928264;-2.5256959435273565 -0.79296456874279664 1.5035483012333766 -0.15623336385547534 -0.87926856503032069 -0.7581265167361968 0.11723185906667066 -1.9094205707118186 -0.81943428400284646 0.33689428105087726;-0.62045758518021366 -2.0503804862085695 -0.54804585114590199 -1.1111342216467364 -0.34647299660934766 0.24261781737085208 -0.70935407634394665 -0.91712896946075018 0.10453285469731782 -2.2203016277954344;0.079969488105723324 -0.53791491952895587 2.1570321866488125 0.16112639673732695 -1.4263275238707531 0.0039446398648580279 -0.36203161029316089 0.77136314780474469 -1.3979100717300375 0.090178865180998463;-4.5219603024123227 -1.8860525335977703 -0.26666653267587764 -0.016611730946313991 0.078469824303386254 -0.8172943887119698 0.1825206482431353 0.16713089967747025 -0.10151571594668736 -0.48349523088374247;1.4080021744507585 5.0022873984577192 -2.5987505231286683 -0.86334887092925239 -0.61056934604808011 -0.24422407080797295 -0.062980874781365853 1.3605581467116323 0.18113407285720673 -1.1904061821794099;0.068555119579376253 -2.6425311233445279 0.29680367459110052 0.14441795167309188 -0.071365932278616651 -1.1523873752850717 0.75350371980159947 0.6010300881374635 -0.79552842503991306 -0.52878707948215153;-0.8508041664015118 0.24529229493243182 0.80112236752806543 1.5946124297216786 -0.39700707452210343 1.1289644868672348 0.10380225998397613 1.2446537973658436 -2.8001535709741576 0.21180127162654006;-0.28248026081562139 2.0009834157585233 1.8022879121771656 1.7659571015025437 0.041084421084878961 -0.49803493767391688 0.48753063121670581 -1.5007820983297542 0.14595846871233678 -0.84501191147262156;0.086953206020480747 2.1621412880061865 0.66183442852385799 1.4851969966577374 0.2184161228179399 -0.84725854918999732 0.16973407662443779 3.2692261305815928 0.6963045191186843 2.468044556234072;0.13908832719531425 -0.45178696171365729 1.3059214319473349 -1.7833471119829136 -0.064081568991874047 -2.0693539932148122 0.28183391426951671 -1.3617652758335907 0.44747322696310565 -0.56351003464825078;0.5925866363786696 -1.5319774439426499 -0.18043645107377476 1.2218206445468738 0.70732075093919056 1.7007716906102095 -1.0555815037111913 0.65042374641227141 -0.72607748395327276 0.16281746620256285;0.043639946111594115 1.5417334630436779 -0.41096162550767451 -1.7586799088801357 -1.2099507072691158 -0.4818331680286807 -0.33689203747385776 -0.53232860954078653 0.14969896802875554 0.1446042928289398;1.3432021334056994 0.08144784724058296 -1.3419548931906424 0.58300440840853796 -0.1032013183115916 1.1479515378185432 -2.8177800891607045 -1.4858605726874332 1.3372794073875298 -0.3368722339270217;-0.27848911435283158 -1.5663261632588019 -1.1205717842728271 0.20509606834794317 3.4722660939123822 -0.91072005579747728 -0.17197725812047562 1.2423803281007988 -3.3152070210330224 0.17376138581809297;1.8446425571633227 0.27699977585618252 -0.88515706618823609 -1.8286324766308701 -1.9278603872721602 -1.0554578565433348 -1.9991036444335348 0.075310258859864102 1.0229904833304939 -0.20044627665774051;1.7273045350132119 -0.23902386861412969 -1.794877176602155 0.42664913911753644 -1.2585139334012714 -0.70525775778822386 1.01496193274235 -1.0063879053576561 -2.8605781686567688 0.68152551436099162;-0.24357329779166864 -0.65715351644767639 2.3073032440575529 0.90184037850128373 -1.9487289154815002 -1.4002592516218404 0.19349023588733436 -0.80456100648236284 -1.2424723320299322 -0.90792909569729929;-2.4722421359422002 3.2843386420865186 1.7985536602839436 3.1085799732191801 0.452434095919581 -0.65230172252560703 -0.9930248399770415 1.2493944899617593 0.26205258100854673 -0.20767473067054376;-1.0691942191943349 1.3062811320790868 -1.1376234525597473 -1.0258730986912292 -0.69951218844356589 0.79403158268841023 -0.08849204289422774 -3.4343945265228939 3.2006005119712708 1.7493784813573046;0.58669943325930785 1.9210835460290567 0.12309135428774863 -1.057447600802973 0.67725863039246992 0.3094730066166107 0.50309003651082818 0.32058348722979929 -0.13521802344126302 -0.91730645769246744;0.28999828830313806 1.7346456619978896 0.90962027673593449 0.33123857089772613 -0.3226333022875516 1.9258906674504821 -0.9783432517769205 -2.7730776057786 1.315136355511948 1.1995225669302214;1.6728364821571609 2.4534166914780497 -0.31862605468576932 1.8252661093676237 -0.83641088109001971 2.1073600179696337 0.15054471719654 -0.31798989408948208 0.57601323650373526 -1.0031247902675198;0.046624189010413278 0.059764310553094779 -0.41385495935690558 -0.094264895874414417 0.26697561765070355 0.18468651971051303 -0.00081569487144046975 -0.063740958685237076 1.1537565231339524 -0.038177091964895257;-1.588609289720452 1.1466614695924577 -2.0885568767400406 0.39919274952170886 1.7394717366744692 1.6282151718791635 0.45635105666182674 2.0530384923209324 2.9194378186502052 -0.097967450851317958;0.098977157829828008 0.12844980897221939 -0.068442958427442857 -0.18044739399773138 -0.0029228493965670001 0.46344355729670589 0.022925841186611767 -3.6625102624398824 0.41042811331273887 0.19900845551124755;-0.16405163647961554 1.3704000478761544 0.49891799069022891 -0.10986750378056084 0.60599754650170723 -0.31389274090509817 0.49417379134384276 -0.65815460344517263 0.2974722203021698 -0.21935727966813443;0.19021632523431911 -1.1341247228039935 0.67973881770084965 -1.8604320129415235 -0.85066671446058995 0.63697252096722845 -0.11894952938674964 -1.190107718676312 1.5249159441813962 -0.667451291877457;3.1850886950327553 -0.24095331044193879 0.56727081266066315 1.798585296809426 -0.3241326234518791 -0.49340704480380504 1.0148955983685739 2.0566534014278477 1.8857813232332967 1.8445195202036513;0.39313692652143412 -1.2938346830090375 1.219474440892838 -3.4135803084875387 -0.36040826445652341 2.3720713334750254 -0.41213834289367679 -3.9421375579163804 2.1418821117700682 1.5604444930047547;-2.2563229713278852 0.85276409646062701 -0.3536960409334009 0.51028317456087424 -1.8629676083871709 -1.9969279081147502 1.1996507309115865 3.5101979818042959 1.2958671676874847 -1.5264375759036024;-0.41014340586702419 0.29854927176371066 -0.93173159332088862 -3.0201530557308138 -1.1154579207850999 1.2685667885555774 -0.55919656652688476 -3.0038735372978738 3.1959386482533527 -1.0187076654513825;-0.45636471658695077 -0.22426417612347335 1.037210275632154 -1.1600539148411075 0.54524162014612643 1.9538111569911194 -0.68412146306791533 1.2011568076727943 -1.0717334194246813 0.18483817278504364;-1.1002505901040935 -1.1813551145809906 3.9307778626420777 2.0116314176612802 1.7182722958071377 -0.20331904277116522 3.053548310069937 0.12292321629574017 1.9864018801363299 -0.042763536211350664;-1.8858574642007295 -0.60527189177980056 -0.5121080375370417 -0.60680419370542271 0.7278854471568269 -0.89002923073618123 -0.46662577527269161 -1.476750187776251 0.92200799829097568 1.4051426063954255;4.1517791769931813 -4.6421981412595699 -1.7441612115952483 0.46612556044878456 -0.79742185584786551 -0.16846434664952878 -0.82626303766806186 2.2162502560724269 0.76018698756687142 1.309686228149548;0.21069758221801227 -2.1705294591710431 2.1775904829712762 -1.6768266379066863 0.18784553366063145 1.1092674653276389 0.065513190566486773 -2.0457399934064764 -0.022000732678333457 -0.11941397236836018;0.34603491014009952 0.42468433118142868 -0.42608594776608333 1.977002964224793 -0.0088155674862257331 -0.23215180206511568 -0.10043528541124698 2.328613279224963 -2.5302738712209072 -1.2636634324181411;-0.22847069464090985 -0.048921340343297003 0.04765106448518646 0.08341392657079072 -0.0036109658818442246 -0.38576958793772242 -0.022780450747696135 3.4452375481391879 -0.070947392840686824 -0.092509718932233809;-0.53667038612592355 -1.7113689687325198 -0.25436952121570611 2.3464339091190816 -1.0088824568659731 1.9530019093762179 -0.012249791414521326 0.074518228629389949 -0.36082265712964234 0.44296974137532713;-7.1048271676974126 -0.62267782582997833 0.3703379260080924 -0.84421233771583715 0.14709719842889682 0.93254913132054484 0.89501671777707681 1.9545201450349128 0.24154021698157788 0.23030242624004466;3.9768779041964986 1.4791000700389281 -3.5879815255860867 0.57343192076801275 0.10774024165598242 0.056013759738554735 0.25931932748346576 0.20020409049636001 0.44347386710143472 -1.0127852233143735;-3.6238006428860325 -0.3125868144694301 0.088101780757240608 0.076922978671691303 -0.0067037513646338509 -0.8795638405590217 -0.0058936854584551732 -0.33837128572059838 -0.097938743640039627 0.038575280762801471;-6.212685908985204 -0.87807577935553194 0.32470229374171627 -0.58677754270096505 0.10603325456732374 0.66880381160352276 0.68531560131775437 1.8355279333359618 0.26518416634183534 0.30506362520427638;0.84923253436500634 -1.5051472259807637 -0.9417801555600227 -1.0266130357548595 -1.2971731433980904 0.080548809311329447 -0.4530081930573378 0.40316870255609838 -1.7342080899374408 -0.16311168804083925;2.3451161837541004 0.9074848737094805 -0.15084203223326506 -1.2307039569416434 0.72792687917005794 0.86222074938172699 -0.78763545983318151 -0.56242894594560899 -0.54042391851078087 0.55307302828240212;0.0017199196043166691 -1.3308912495645455 1.533316651708452 -0.42098775046283438 0.10091103785830932 -0.058316005101893137 -1.3658362329955986 -0.57771923025371519 -0.39978920720531175 2.347831732356092;-1.5539184474711645 0.63177046340155607 -0.47230678896202438 0.64698522404998293 1.0690208799095349 1.0855816650612402 0.83099750373977033 0.48483396942801416 0.79029296598863608 -0.42300594869771058;-2.7828448522559066 3.583562370966491 -1.5195423524384226 -0.25335464366822019 -0.31689566258465585 0.93504815182160328 -0.055756661668582091 -0.87429744231106221 0.9989552712761216 0.57509294549567869;-0.18089924089746873 0.11446428735592609 -0.11979780583616315 0.80269341874632438 -0.81342450077535833 -0.37531166427399582 -2.5645160381740961 0.85956396947443625 -0.33961680803088234 2.7389104562595583;1.2661469894743653 -3.5138293774826157 2.0636823286514558 0.030321724641664174 0.31845880505316693 0.16018401278189062 0.091456171853427165 1.6616759557735126 -1.0522173558128081 0.57173485170150418;4.5419095178555517 0.19428610643266275 -0.088272051449043334 -0.087771699630355096 0.006952239349395083 0.78715177449164808 0.00479688452390864 0.17805314884853587 0.058865218297566996 -0.041199169787515574;-0.56168963049333842 2.1497677598284808 3.5448026618059876 -0.64282749853517096 3.1103908302464309 -1.6948820408938738 -0.98884387082263103 4.1045283727205524 -1.0454075977771169 1.5167292781446997;-1.5101223525244707 0.13590816967679117 -0.67482187080785283 -0.26489039480013632 -0.011480849160708816 -0.53150432549470439 -1.5208997453494033 -0.0018875782025750852 -1.5410982081929578 -0.42612120921025431;-1.0262086818566594 3.4501751524455697 -4.0799211864870504 2.0453120647293637 1.7072723655236981 -0.11901900916522966 -0.54860284950305638 -1.907835969985944 1.4412456289182001 -1.4397765910815075;0.31557166537270726 0.027457973465503258 -0.31750329063316712 0.77630916668142214 -0.13184736898717747 -1.0374192611936144 -2.2455172345044851 -1.2759029319801951 0.534802914126564 -0.013485318624990701;-5.922682834531976 -0.32226475115327102 -0.32800970691404308 0.010607713637320545 0.082630249041700271 0.57998485092042928 0.071756991474607179 2.7319424745467082 0.012948821534920385 -0.04733530874283301;-2.8622489218945213 -0.53706252299787405 -2.079800247140668 -0.5249493094663148 0.32422218641234168 -0.47110505775750416 -0.11960401753503104 -0.387496545683361 -0.52768931206518621 -0.22398113405432274;-6.0751595292997091 -2.2951565768960944 1.700659817037214 -1.5025351800277531 -0.29448459580204084 0.74311569084628537 0.083053259640120947 0.54921098815609193 1.1108388623818715 -2.5781501222952916;0.58776812264586376 1.1640183956370791 1.2352188692700474 -3.2936401332444616 1.4974088876513678 -1.2121679019224112 0.019047960511752234 -0.036517600138459089 0.46153727736469718 -0.79149547343375326;-0.22668809660827707 -2.6105496251710991 2.2391449969573185 -1.6617633972732615 0.11828184489221802 0.041709986617982329 0.12396749418017478 0.46250144068365273 -1.5697662599067277 1.5320933515460731;-0.72709851974049322 -1.7758719237286142 1.5806812753617261 2.1947066317087423 2.0737267373825752 -1.5866321970244228 2.2533926701194429 -0.3094871992876066 1.3534406613627592 -0.50224959401263303;-0.29893554373230014 -0.30249760115268065 2.0137498270709573 0.8798034106934316 -1.6359079867352233 -0.20052416755054894 -0.066749242852696192 1.0170131353049083 -1.1575768955209225 -0.74216062024562524;-0.92646498146285228 4.1971742426193064 0.73079665263742499 1.7579187357270545 -0.106875091623601 -2.4713687545446561 -0.05455050958339229 -1.5247387805442267 -1.0017148189772243 -0.79713354516538348;1.1092170065284146 -0.004178911840991735 -0.062048882303875015 -0.44911883904916272 -0.088799191971159999 0.39299545890462367 -0.51178359490068703 0.077938342702134997 -0.32784712275601618 0.066490414815513571;11.247999526223998 0.6077632478836541 -0.084721853120636292 -0.1863428362627689 0.011181847180910165 -0.72062645814296655 0.032228798196113149 -0.70366801600303164 -0.046630030952904765 -0.10776984393633976;-0.19752682280983319 -0.72728978605411443 1.2190166283895911 -2.9695156889178591 1.5921736090208887 -2.6178475299685671 2.0675730594956874 -0.64336905844312853 -1.3897370913019726 1.0964575440016116;-0.11933242338491987 -1.6600849599215339 -1.6153961638406489 -0.52370912986496043 -0.22193927649103934 -1.9221833191184066 -0.07578859595756833 1.9130055874705805 -0.058440996568796234 0.0070604992962275698;1.5837939452793657 0.24949257607316713 -0.64952150989202717 0.40709126418487018 0.56370232059205061 0.81924504910575457 -0.55728645995995585 -0.054462616046595594 1.4692559671344181 -0.52658411628489821;0.66183751173834471 1.6818027121534935 -1.1535584120559326 -1.5060171636790118 -1.1605703625300685 0.17807635491328527 -1.0377143388044243 0.059375730428116454 -0.28300714699112223 0.13091089665375297;-1.9505360317267413 -2.2565710613781995 2.1934331754690342 -0.61982011501321543 -0.13398966151211422 -0.43865775732174195 -0.042475674583451112 1.016281549030694 0.71539101391587845 0.78865443948486702;5.7173280259417023 0.071774344944692522 -0.066421382987878447 -0.07287424483360283 -0.015411990362568274 0.80699054304881057 -0.013986606321211776 0.12190158649036198 0.095894764079958394 -0.031695643535171722;-1.4315596170767149 -0.50599294764706071 1.223979859137369 -4.5077782161047582 0.73997275858506517 -2.26562995548906 1.0796393477263582 -2.583708684373855 -0.38707339221232906 -2.0992380032923426;1.4315749898014807 0.43562742915259545 -0.44241783626213232 -0.74295852993045675 2.2086097946785248 0.08198289374511572 -0.13153476181140392 0.8421138892529495 -0.68330411851769768 -1.035128947827717;-0.089516785084612832 0.23607136632354681 -1.2671290607321046 -1.7147264997645544 0.11504948859244847 0.42857697972035974 0.053932451227229963 -0.88311044474492462 0.98651396708480954 0.073638639264428013;-0.56144937242181825 0.12506426027736434 -2.8280427584146657 -0.24480394597735719 -1.3671968424037058 1.5390049563550501 -1.0587656962216148 2.0578792306827216 2.5745272340506777 -0.39105662697858834;0.079858013574097803 0.68606590559826808 -0.36444064341181293 0.15997488066299631 -0.18180305911736033 -1.1908203284989722 0.20262517042217332 3.5148778893471588 -1.9331605471367732 -0.53224811123345528;-0.68211028023118558 -0.42158992381717825 -0.91932115481014831 0.16498248723764736 -0.011600145538465337 -0.534891225271937 -0.47159837824219802 -0.26054471119773365 0.84343514799738684 -0.71200567416962135];

% Layer 2
b2 = 0.039756162948990259;
LW2_1 = [0.14050034946779399 -0.044665323021370475 0.34745911875920793 0.40322031186806412 -4.8191026144922837 0.2629003605789908 -0.06842158164876401 -0.56842330487000015 -0.045500111076482955 -0.3132142178886167 -0.20947582368577372 0.04823265932966353 -0.34508414943042282 -0.11734622531358231 0.089926299751422231 -0.18044626612667164 0.48148862111331547 0.06911213872122586 0.26212383943430451 -0.044194257167876637 -0.098065162217395155 0.25966130378243485 0.10188151369002538 -0.28035422602232773 0.1071445211594162 -0.18486921360943911 -0.10693349100579408 0.079561134712181569 0.31400629493460819 -0.84535000233856605 -0.17960691553311472 -0.047121980954690154 -0.29225328519058347 -0.27603379833923336 0.30812938608095597 0.11152975385564821 0.077757639269664267 -0.11084867986753115 -0.032573683094707186 0.20104216690262516 -0.046098747484551027 0.094822639835816458 -0.095278101588013933 -0.069380149224350512 0.075965439911461111 1.2229420564225195 0.15330847559081906 -1.7176991052607222 -0.79321997920103737 0.17498201190031104 -0.055955049536609992 0.091490590829744187 -0.026828384568538848 -0.09100153579636476 0.21805792392832604 0.065439354122972374 -0.10798781698761768 0.02764714113751492 0.18358709387969707 0.17034856889113079 -3.0840192818067362 -1.1197997183221635 -0.54406917751012518 0.12419534826341674 2.3980661702615005 0.66281875488754538 0.095987804232968169 0.10059085561662881 -0.047895458556639958 -0.34757701067472541 -0.10671100802987173 -0.054699817752248234 -0.12177312295727756 4.8020315440085728 0.03673653906179114 0.17564181344677698 0.04918860505136638 1.1172054670106759 3.5756766250072025 -0.11954010914656205 0.015049647112827066 -1.2526395687574783 0.097926525344759374 0.14576843247825882 -0.34980126921867516 -0.12511106039318784 -1.0755049769976175 0.32606082832815036 0.091016897536316407 -0.70462997007811545 -0.39055283388300888 0.26309802672745408 -0.12183643077936948 -2.8454198132383195 -0.14131025434742883 0.084221169405511304 -0.58855490871602023 0.054765886736832907 -0.23711839134369464 -0.58191671923496668];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 0.00785949116082326;
y1_step1.xoffset = 43.6949;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    X{1,ts} = X{1,ts}';
    temp = removeconstantrows_apply(X{1,ts},x1_step1);
    Xp1 = mapminmax_apply(temp,x1_step2);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Remove Constants Input Processing Function
function y = removeconstantrows_apply(x,settings)
y = x(settings.keep,:);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
